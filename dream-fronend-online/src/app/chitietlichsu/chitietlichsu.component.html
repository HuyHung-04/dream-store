<div *ngIf="hoaDonData; else noData" class="invoice-container">
  
  
    <!-- M√£ h√≥a ƒë∆°n (CƒÉn ph·∫£i) -->
    <div class="invoice-header">
      <h3>Chi ti·∫øt H√≥a ƒê∆°n</h3>
      <p class="invoice-code"><strong>M√£ h√≥a ƒë∆°n:</strong> {{ hoaDonData.ma }}</p>
    </div>
    <div class="status-tracker">
        <div class="status-step" [class.active]="hoaDonData.trangThai == 1">
          <div class="status-icon">üìÑ</div>
          <p>Ch·ªù x√°c nh·∫≠n</p>
          <small>{{ hoaDonData.ngayTao }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai == 2"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai == 2">
          <div class="status-icon">‚úîÔ∏è</div>
          <p>ƒê√£ ƒë∆∞·ª£c x√°c nh·∫≠n</p>
          <small>{{ hoaDonData.ngayXacNhan || '---' }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai >= 3"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai >= 3">
          <div class="status-icon">üöö</div>
          <p>ƒêang giao h√†ng</p>
          <small>{{ hoaDonData.ngayGiao || '---' }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai >= 4"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai >= 4">
          <div class="status-icon">üì¶</div>
          <p>Giao h√†ng th√†nh c√¥ng</p>
          <small>{{ hoaDonData.ngayNhan || '---' }}</small>
        </div>
    
        <!-- <div class="status-line" [class.active]="hoaDonData.trangThai === 5"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai === 5">
          <div class="status-icon">‚≠ê</div>
          <p>ƒê∆°n H√†ng ƒê√£ Ho√†n Th√†nh</p>
          <small>{{ hoaDonData.ngayHoanThanh || '---' }}</small>
        </div> -->
      </div>
    
    <!-- ƒê·ªãa ch·ªâ nh·∫≠n h√†ng -->
    <section class="section">
      <h3>ƒê·ªãa ch·ªâ nh·∫≠n h√†ng</h3>
      <p><strong>T√™n ng∆∞·ªùi nh·∫≠n:</strong> {{ hoaDonData.tenNguoiNhan }}</p>
      <p><strong>S·ªë ƒëi·ªán tho·∫°i:</strong> {{ hoaDonData.sdtNguoiNhan }}</p>
      <p><strong>ƒê·ªãa ch·ªâ:</strong> {{ hoaDonData.diaChiNhanHang }}</p>
    </section>
  
 <!-- Chi ti·∫øt h√≥a ƒë∆°n -->
  <section class="section" *ngIf="chiTietHoaDonData?.length > 0">
    <div *ngFor="let item of chiTietHoaDonData" class="invoice-details-item">
      <img [src]="'http://localhost:8080' + item.anhUrls" alt="{{ item.tenSanPham }}" />
      <div class="invoice-details-info">
        <p><strong>T√™n S·∫£n Ph·∫©m:</strong> {{ item.tenSanPham }}</p>
        <p><strong>ƒê∆°n Gi√°:</strong> {{ item.donGia  }}</p>
        <p><strong>S·ªë L∆∞·ª£ng:</strong> {{ item.soLuong }}</p>
        <p><strong>Th√†nh Ti·ªÅn:</strong> {{ item.donGia * item.soLuong  }} VND</p>
        <p><strong>M√†u S·∫Øc:</strong> {{ item.mauSac }}</p>
      </div>
    </div>
  </section> 
  
    <!-- Chi ti·∫øt thanh to√°n -->
    <section class="section">
      <h3>Chi ti·∫øt thanh to√°n</h3>
      <p><strong>T·ªïng ti·ªÅn tr∆∞·ªõc voucher:</strong> {{ hoaDonData.tongTienTruocVoucher}} VND</p>
      <p><strong>T√™n voucher:</strong> {{ hoaDonData.voucher?.ten }}</p>
      <p><strong>Gi√° tr·ªã gi·∫£m:</strong> 
        {{ hoaDonData.voucher?.hinhThucGiam ? (hoaDonData.voucher?.giaTriGiam + '%') : (hoaDonData.voucher?.giaTriGiam + ' VND') }}
      </p>
      <p><strong>Gi·∫£m t·ªëi ƒëa:</strong> {{ hoaDonData.voucher?.giamToiDa }} VND</p>
      <p><strong>T√™n ph∆∞∆°ng th·ª©c:</strong> {{ hoaDonData.phuongThucThanhToan?.ten }}</p>
      <p><strong>Ph√≠ v·∫≠n chuy·ªÉn:</strong> {{ hoaDonData.phiVanChuyen }} VND</p>
      <p><strong>T·ªïng ti·ªÅn thanh to√°n:</strong> {{ hoaDonData.tongTienThanhToan }} VND</p>
    </section>
  
  </div>
  
  <!-- N·∫øu ch∆∞a c√≥ d·ªØ li·ªáu -->
  <ng-template #noData>
    <p>Ch∆∞a c√≥ d·ªØ li·ªáu h√≥a ƒë∆°n ƒë·ªÉ hi·ªÉn th·ªã.</p>
  </ng-template>
  
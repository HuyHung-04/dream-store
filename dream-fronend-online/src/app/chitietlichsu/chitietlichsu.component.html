<div *ngIf="hoaDonData; else noData" class="invoice-container">
  
  
    <!-- MÃ£ hÃ³a Ä‘Æ¡n (CÄƒn pháº£i) -->
    <div class="invoice-header">
      <h2>Chi tiáº¿t HÃ³a ÄÆ¡n</h2>
      <p class="invoice-code"><strong>MÃ£ hÃ³a Ä‘Æ¡n:</strong> {{ hoaDonData.ma }}</p>
    </div>
    <div class="status-tracker">
        <div class="status-step" [class.active]="hoaDonData.trangThai == 1">
          <div class="status-icon">ğŸ“„</div>
          <p>ÄÆ¡n HÃ ng ÄÃ£ Äáº·t</p>
          <small>{{ hoaDonData.ngayTao }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai == 2"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai == 2">
          <div class="status-icon">ğŸ’³</div>
          <p>ÄÃ£ XÃ¡c Nháº­n Thanh ToÃ¡n</p>
          <small>{{ hoaDonData.ngayXacNhan || '---' }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai >= 3"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai >= 3">
          <div class="status-icon">ğŸšš</div>
          <p>ÄÃ£ Giao Cho ÄVVC</p>
          <small>{{ hoaDonData.ngayGiao || '---' }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai >= 4"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai >= 4">
          <div class="status-icon">ğŸ“¦</div>
          <p>ÄÃ£ Nháº­n ÄÆ°á»£c HÃ ng</p>
          <small>{{ hoaDonData.ngayNhan || '---' }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai === 5"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai === 5">
          <div class="status-icon">â­</div>
          <p>ÄÆ¡n HÃ ng ÄÃ£ HoÃ n ThÃ nh</p>
          <small>{{ hoaDonData.ngayHoanThanh || '---' }}</small>
        </div>
      </div>
    
    <!-- Äá»‹a chá»‰ nháº­n hÃ ng -->
    <section class="section">
      <h3>Äá»‹a chá»‰ nháº­n hÃ ng</h3>
      <p><strong>TÃªn ngÆ°á»i nháº­n:</strong> {{ hoaDonData.tenNguoiNhan }}</p>
      <p><strong>Sá»‘ Ä‘iá»‡n thoáº¡i:</strong> {{ hoaDonData.sdtNguoiNhan }}</p>
      <p><strong>Äá»‹a chá»‰:</strong> {{ hoaDonData.diaChiNhanHang }}</p>
    </section>
  
 <!-- Chi tiáº¿t hÃ³a Ä‘Æ¡n -->
  <section class="section" *ngIf="chiTietHoaDonData?.length > 0">
  <h3>Chi tiáº¿t HÃ³a ÄÆ¡n</h3>
  
  <div *ngFor="let item of chiTietHoaDonData" class="invoice-details-item">
    <img [src]="'http://localhost:8080' + item.anhUrls" alt="{{ item.tenSanPham }}" />
    
    <div class="invoice-details-info">
      <p><strong>TÃªn Sáº£n Pháº©m:</strong> {{ item.tenSanPham }}</p>
      <p><strong>ÄÆ¡n GiÃ¡:</strong> {{ item.donGia  }}</p>
      <p><strong>Sá»‘ LÆ°á»£ng:</strong> {{ item.soLuong }}</p>
      <p><strong>ThÃ nh Tiá»n:</strong> {{ item.donGia * item.soLuong  }} VNÄ</p>
      <p><strong>MÃ u Sáº¯c:</strong> {{ item.mauSac }}</p>
    </div>
  </div>
</section> 
  
    <!-- Chi tiáº¿t thanh toÃ¡n -->
    <section class="section">
      <h3>Chi tiáº¿t thanh toÃ¡n</h3>
      <p><strong>Tá»•ng tiá»n trÆ°á»›c voucher:</strong> {{ hoaDonData.tongTienTruocVoucher}} VNÄ</p>
      <p><strong>TÃªn voucher:</strong> {{ hoaDonData.voucher?.ten }}</p>
      <p><strong>GiÃ¡ trá»‹ giáº£m:</strong> 
        {{ hoaDonData.voucher?.hinhThucGiam ? (hoaDonData.voucher?.giaTriGiam + '%') : (hoaDonData.voucher?.giaTriGiam + ' VNÄ') }}
      </p>
      <p><strong>Giáº£m tá»‘i Ä‘a:</strong> {{ hoaDonData.voucher?.giamToiDa }} VNÄ</p>
      <p><strong>TÃªn phÆ°Æ¡ng thá»©c:</strong> {{ hoaDonData.phuongThucThanhToan?.ten }}</p>
      <p><strong>PhÃ­ váº­n chuyá»ƒn:</strong> {{ hoaDonData.phiVanChuyen }} VNÄ</p>
      <p><strong>Tá»•ng tiá»n thanh toÃ¡n:</strong> {{ hoaDonData.tongTienThanhToan }} VNÄ</p>
    </section>
  
  </div>
  
  <!-- Náº¿u chÆ°a cÃ³ dá»¯ liá»‡u -->
  <ng-template #noData>
    <p>ChÆ°a cÃ³ dá»¯ liá»‡u hÃ³a Ä‘Æ¡n Ä‘á»ƒ hiá»ƒn thá»‹.</p>
  </ng-template>
  
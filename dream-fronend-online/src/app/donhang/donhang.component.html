<div *ngIf="hoaDonData; else noData" class="invoice-container">
  
    <!-- MÃ£ hÃ³a Ä‘Æ¡n (CÄƒn pháº£i) -->
    <div class="invoice-header">
      <h2>Chi tiáº¿t HÃ³a ÄÆ¡n</h2>
      <p class="invoice-code"><strong>MÃ£ hÃ³a Ä‘Æ¡n:</strong> {{ hoaDonData.ma }}</p>
    </div>
    <div class="status-tracker">
        <div class="status-step" [class.active]="hoaDonData.trangThai >= 1">
          <div class="status-icon">ğŸ“„</div>
          <p>ÄÆ¡n HÃ ng ÄÃ£ Äáº·t</p>
          <small>{{ hoaDonData.ngayTao }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai >= 2"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai >= 2">
          <div class="status-icon">ğŸ’³</div>
          <p>ÄÃ£ XÃ¡c Nháº­n Thanh ToÃ¡n</p>
          <small>{{ hoaDonData.ngayXacNhan || '---' }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai >= 3"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai >= 3">
          <div class="status-icon">ğŸšš</div>
          <p>ÄÃ£ Giao Cho ÄVVC</p>
          <small>{{ hoaDonData.ngayGiao || '---' }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai >= 4"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai >= 4">
          <div class="status-icon">ğŸ“¦</div>
          <p>ÄÃ£ Nháº­n ÄÆ°á»£c HÃ ng</p>
          <small>{{ hoaDonData.ngayNhan || '---' }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai === 5"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai === 5">
          <div class="status-icon">â­</div>
          <p>ÄÆ¡n HÃ ng ÄÃ£ HoÃ n ThÃ nh</p>
          <small>{{ hoaDonData.ngayHoanThanh || '---' }}</small>
        </div>
      </div>
    
    <!-- Äá»‹a chá»‰ nháº­n hÃ ng -->
    <section class="section">
      <h3>Äá»‹a chá»‰ nháº­n hÃ ng</h3>
      <p><strong>TÃªn ngÆ°á»i nháº­n:</strong> {{ hoaDonData.tenNguoiNhan }}</p>
      <p><strong>Sá»‘ Ä‘iá»‡n thoáº¡i:</strong> {{ hoaDonData.sdtNguoiNhan }}</p>
      <p><strong>Äá»‹a chá»‰:</strong> {{ hoaDonData.diaChiNhanHang }}</p>
    </section>
  
    <!-- ThÃ´ng tin Ä‘Æ¡n hÃ ng -->
    <section class="section">
      <h3>ThÃ´ng tin khÃ¡ch hÃ ng</h3>
      <p><strong>MÃ£ khÃ¡ch hÃ ng:</strong> {{ hoaDonData.khachHang?.ma }}</p>
      <p><strong>TÃªn khÃ¡ch hÃ ng:</strong> {{ hoaDonData.khachHang?.ten }}</p>
      <p><strong>Email:</strong> {{ hoaDonData.khachHang?.email }}</p>
      <p><strong>Giá»›i tÃ­nh:</strong> {{ hoaDonData.khachHang?.gioiTinh ? 'Nam' : 'Ná»¯' }}</p>
    </section>
  
    <!-- Chi tiáº¿t thanh toÃ¡n -->
    <section class="section">
      <h3>Chi tiáº¿t thanh toÃ¡n</h3>
      <p><strong>Tá»•ng tiá»n trÆ°á»›c voucher:</strong> {{ hoaDonData.tongTienTruocVoucher | number }} VNÄ</p>
      <p><strong>PhÃ­ váº­n chuyá»ƒn:</strong> {{ hoaDonData.phiVanChuyen | number }} VNÄ</p>
      <p><strong>Tá»•ng tiá»n thanh toÃ¡n:</strong> {{ hoaDonData.tongTienThanhToan | number }} VNÄ</p>
    </section>
  
    <!-- ThÃ´ng tin Voucher -->
    <section class="section">
      <h3>Voucher</h3>
      <p><strong>TÃªn voucher:</strong> {{ hoaDonData.voucher?.ten }}</p>
      <p><strong>GiÃ¡ trá»‹ giáº£m:</strong> 
        {{ hoaDonData.voucher?.hinhThucGiam ? (hoaDonData.voucher?.giaTriGiam + '%') : (hoaDonData.voucher?.giaTriGiam + ' VNÄ') }}
      </p>
      <p><strong>Giáº£m tá»‘i Ä‘a:</strong> {{ hoaDonData.voucher?.giamToiDa }} VNÄ</p>
      <p><strong>ÄÆ¡n tá»‘i thiá»ƒu:</strong> {{ hoaDonData.voucher?.donToiThieu }} VNÄ</p>
    </section>
  
    <!-- PhÆ°Æ¡ng thá»©c thanh toÃ¡n -->
    <section class="section">
      <h3>PhÆ°Æ¡ng thá»©c thanh toÃ¡n</h3>
      <p><strong>TÃªn phÆ°Æ¡ng thá»©c:</strong> {{ hoaDonData.phuongThucThanhToan?.ten }}</p>
    </section>
  
    <!-- Ghi chÃº -->
    <section class="section">
      <h3>Ghi chÃº</h3>
      <p>{{ hoaDonData.ghiChu || 'KhÃ´ng cÃ³ ghi chÃº' }}</p>
    </section>
  
    <!-- Tráº¡ng thÃ¡i hÃ³a Ä‘Æ¡n -->
    <section class="section">
      <h3>Tráº¡ng thÃ¡i</h3>
      <span [ngClass]="{
        'text-success': hoaDonData.trangThai === 1,
        'text-warning': hoaDonData.trangThai === 2,
        'text-danger': hoaDonData.trangThai === 3
      }">
        {{ hoaDonData.trangThai === 1 ? 'ÄÃ£ xÃ¡c nháº­n' : 
           hoaDonData.trangThai === 2 ? 'Äang xá»­ lÃ½' : 
           hoaDonData.trangThai === 3 ? 'ÄÃ£ há»§y' : 'KhÃ´ng xÃ¡c Ä‘á»‹nh' }}
      </span>
    </section>
  
  </div>
  
  <!-- Náº¿u chÆ°a cÃ³ dá»¯ liá»‡u -->
  <ng-template #noData>
    <p>ChÆ°a cÃ³ dá»¯ liá»‡u hÃ³a Ä‘Æ¡n Ä‘á»ƒ hiá»ƒn thá»‹.</p>
  </ng-template>
  
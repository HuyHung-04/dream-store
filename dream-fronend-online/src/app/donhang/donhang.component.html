<div *ngIf="hoaDonData; else noData" class="invoice-container">
  
    <!-- Mã hóa đơn (Căn phải) -->
    <div class="invoice-header">
      <h2>Chi tiết Hóa Đơn</h2>
      <p class="invoice-code"><strong>Mã hóa đơn:</strong> {{ hoaDonData.ma }}</p>
    </div>
    <div class="status-tracker">
        <div class="status-step" [class.active]="hoaDonData.trangThai >= 1">
          <div class="status-icon">📄</div>
          <p>Đơn Hàng Đã Đặt</p>
          <small>{{ hoaDonData.ngayTao }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai >= 2"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai >= 2">
          <div class="status-icon">💳</div>
          <p>Đã Xác Nhận Thanh Toán</p>
          <small>{{ hoaDonData.ngayXacNhan || '---' }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai >= 3"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai >= 3">
          <div class="status-icon">🚚</div>
          <p>Đã Giao Cho ĐVVC</p>
          <small>{{ hoaDonData.ngayGiao || '---' }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai >= 4"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai >= 4">
          <div class="status-icon">📦</div>
          <p>Đã Nhận Được Hàng</p>
          <small>{{ hoaDonData.ngayNhan || '---' }}</small>
        </div>
    
        <div class="status-line" [class.active]="hoaDonData.trangThai === 5"></div>
    
        <div class="status-step" [class.active]="hoaDonData.trangThai === 5">
          <div class="status-icon">⭐</div>
          <p>Đơn Hàng Đã Hoàn Thành</p>
          <small>{{ hoaDonData.ngayHoanThanh || '---' }}</small>
        </div>
      </div>
    
    <!-- Địa chỉ nhận hàng -->
    <section class="section">
      <h3>Địa chỉ nhận hàng</h3>
      <p><strong>Tên người nhận:</strong> {{ hoaDonData.tenNguoiNhan }}</p>
      <p><strong>Số điện thoại:</strong> {{ hoaDonData.sdtNguoiNhan }}</p>
      <p><strong>Địa chỉ:</strong> {{ hoaDonData.diaChiNhanHang }}</p>
    </section>
  
    <!-- Thông tin đơn hàng -->
    <section class="section">
      <h3>Thông tin khách hàng</h3>
      <p><strong>Mã khách hàng:</strong> {{ hoaDonData.khachHang?.ma }}</p>
      <p><strong>Tên khách hàng:</strong> {{ hoaDonData.khachHang?.ten }}</p>
      <p><strong>Email:</strong> {{ hoaDonData.khachHang?.email }}</p>
      <p><strong>Giới tính:</strong> {{ hoaDonData.khachHang?.gioiTinh ? 'Nam' : 'Nữ' }}</p>
    </section>
  
    <!-- Chi tiết thanh toán -->
    <section class="section">
      <h3>Chi tiết thanh toán</h3>
      <p><strong>Tổng tiền trước voucher:</strong> {{ hoaDonData.tongTienTruocVoucher | number }} VNĐ</p>
      <p><strong>Phí vận chuyển:</strong> {{ hoaDonData.phiVanChuyen | number }} VNĐ</p>
      <p><strong>Tổng tiền thanh toán:</strong> {{ hoaDonData.tongTienThanhToan | number }} VNĐ</p>
    </section>
  
    <!-- Thông tin Voucher -->
    <section class="section">
      <h3>Voucher</h3>
      <p><strong>Tên voucher:</strong> {{ hoaDonData.voucher?.ten }}</p>
      <p><strong>Giá trị giảm:</strong> 
        {{ hoaDonData.voucher?.hinhThucGiam ? (hoaDonData.voucher?.giaTriGiam + '%') : (hoaDonData.voucher?.giaTriGiam + ' VNĐ') }}
      </p>
      <p><strong>Giảm tối đa:</strong> {{ hoaDonData.voucher?.giamToiDa }} VNĐ</p>
      <p><strong>Đơn tối thiểu:</strong> {{ hoaDonData.voucher?.donToiThieu }} VNĐ</p>
    </section>
  
    <!-- Phương thức thanh toán -->
    <section class="section">
      <h3>Phương thức thanh toán</h3>
      <p><strong>Tên phương thức:</strong> {{ hoaDonData.phuongThucThanhToan?.ten }}</p>
    </section>
  
    <!-- Ghi chú -->
    <section class="section">
      <h3>Ghi chú</h3>
      <p>{{ hoaDonData.ghiChu || 'Không có ghi chú' }}</p>
    </section>
  
    <!-- Trạng thái hóa đơn -->
    <section class="section">
      <h3>Trạng thái</h3>
      <span [ngClass]="{
        'text-success': hoaDonData.trangThai === 1,
        'text-warning': hoaDonData.trangThai === 2,
        'text-danger': hoaDonData.trangThai === 3
      }">
        {{ hoaDonData.trangThai === 1 ? 'Đã xác nhận' : 
           hoaDonData.trangThai === 2 ? 'Đang xử lý' : 
           hoaDonData.trangThai === 3 ? 'Đã hủy' : 'Không xác định' }}
      </span>
    </section>
  
  </div>
  
  <!-- Nếu chưa có dữ liệu -->
  <ng-template #noData>
    <p>Chưa có dữ liệu hóa đơn để hiển thị.</p>
  </ng-template>
  